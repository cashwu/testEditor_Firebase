@page
@model EditModel

@{
}

<link rel="stylesheet" href="~/dist/ui/trumbowyg.min.css"/>
<link rel="stylesheet" href="~/dist/plugins/highlight/ui/trumbowyg.highlight.min.css"/>
<link rel="stylesheet" href="~/lib/prism.css"/>
<link rel="stylesheet" href="~/dist/plugins/colors/ui/trumbowyg.colors.min.css"/>
<link rel="stylesheet" href="~/dist/plugins/table/ui/trumbowyg.table.min.css"/>
<h2>Edit</h2>

// https://alex-d.github.io/Trumbowyg/demos/#plugins-history

<textarea id="edit"></textarea>

@section Scripts
{
    <script src="//cdn.rawgit.com/Alex-D/Trumbowyg/v2.10.0/dist/trumbowyg.js"></script>
    @* <script src="~/dist/trumbowyg.js"></script> *@
    <script src="~/dist/langs/zh_tw.min.js"></script>
    <script src="~/dist/plugins/cleanpaste/trumbowyg.cleanpaste.min.js"></script>
    <script src="~/dist/plugins/pasteimage/trumbowyg.pasteimage.min.js"></script>
    <script src="~/dist/plugins/base64/trumbowyg.base64.min.js"></script>
    <script src="~/dist/plugins/upload/trumbowyg.upload.js"></script>
    <script src="~/lib/prism.js"></script>
    <script src="~/dist/plugins/highlight/trumbowyg.highlight.min.js"></script>
    <script src="~/dist/plugins/colors/trumbowyg.colors.min.js"></script>
    <script src="~/dist/plugins/history/trumbowyg.history.min.js"></script>
    <script src="~/dist/plugins/pasteembed/trumbowyg.pasteembed.min.js"></script>
    <script src="~/dist/plugins/table/trumbowyg.table.min.js"></script>
    <script src="~/dist/plugins/template/trumbowyg.template.min.js"></script>
    
    @* <script src="//cdn.rawgit.com/Alex-D/Trumbowyg/v2.10.0/dist/plugins/upload/trumbowyg.upload.js"></script> *@
    
    <script>
        $("#edit").trumbowyg({
            lang: 'zh',
            btnsDef: {
                image: {
                    dropdown: ['insertImage', 'upload', 'base64'],
                    ico: 'insertImage'
                }
            },
            btns: [
                ['viewHTML'],
                ['historyUndo', 'historyRedo'],
                ['foreColor', 'backColor'],
                ['formatting'],
                ['strong', 'em', 'del'],
                ['superscript', 'subscript'],
                ['link'],
                ['image'],
                ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull'],
                ['unorderedList', 'orderedList'],
                ['horizontalRule'],
                ['removeformat'],
                ['highlight'],
                ['table'],
                ['template'],
                ['fullscreen']
            ],
            plugins: {
                templates: [
                    {
                        name: "Test",
                        html: "<p>I am a template !</p>"
                    }
                ],
                upload : {
                    serverPath : '/edit',
                    fileFieldName : 'image',
//                    headers : {
//                        'Authorization' : '',
//                    },
                    urlPropertyName: 'data.link'
                }
            },
            autogrow: true,
            autogrowOnEnter: true,
            imageWidthModalEdit: true
        });
    </script>
}